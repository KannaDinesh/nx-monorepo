var j=Object.defineProperty,$=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var V=(e,r,n)=>r in e?j(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,f=(e,r)=>{for(var n in r||={})H.call(r,n)&&V(e,n,r[n]);if(A)for(var n of A(r))K.call(r,n)&&V(e,n,r[n]);return e},d=(e,r)=>$(e,B(r));function S(e,r){return Object.is(e,r)}var t=null,p=!1,x=1,h=Symbol("SIGNAL");function w(e){let r=t;return t=e,r}function oe(){return t}function z(){return p}function ie(e){return e[h]!==void 0}var C={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function E(e){if(p)throw new Error("");if(t===null)return;t.consumerOnSignalRead(e);let r=t.nextProducerIndex++;if(O(t),r<t.producerNode.length&&t.producerNode[r]!==e&&v(t)){let n=t.producerNode[r];I(n,t.producerIndexOfThis[r])}t.producerNode[r]!==e&&(t.producerNode[r]=e,t.producerIndexOfThis[r]=v(t)?M(e,t,r):0),t.producerLastReadVersion[r]=e.version}function J(){x++}function m(e){if(!(v(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===x)){if(!e.producerMustRecompute(e)&&!F(e)){N(e);return}e.producerRecomputeValue(e),N(e)}}function D(e){if(e.liveConsumerNode===void 0)return;let r=p;p=!0;try{for(let n of e.liveConsumerNode)n.dirty||P(n)}finally{p=r}}function L(){return t?.consumerAllowSignalWrites!==!1}function P(e){e.dirty=!0,D(e),e.consumerMarkedDirty?.(e)}function N(e){e.dirty=!1,e.lastCleanEpoch=x}function T(e){return e&&(e.nextProducerIndex=0),w(e)}function R(e,r){if(w(r),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(v(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)I(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function F(e){O(e);for(let r=0;r<e.producerNode.length;r++){let n=e.producerNode[r],u=e.producerLastReadVersion[r];if(u!==n.version||(m(n),u!==n.version))return!0}return!1}function Q(e){if(O(e),v(e))for(let r=0;r<e.producerNode.length;r++)I(e.producerNode[r],e.producerIndexOfThis[r]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function M(e,r,n){if(k(e),e.liveConsumerNode.length===0&&W(e))for(let u=0;u<e.producerNode.length;u++)e.producerIndexOfThis[u]=M(e.producerNode[u],e,u);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(r)-1}function I(e,r){if(k(e),e.liveConsumerNode.length===1&&W(e))for(let u=0;u<e.producerNode.length;u++)I(e.producerNode[u],e.producerIndexOfThis[u]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[r]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[r]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,r<e.liveConsumerNode.length){let u=e.liveConsumerIndexOfThis[r],o=e.liveConsumerNode[r];O(o),o.producerIndexOfThis[u]=r}}function v(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function O(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function k(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function W(e){return e.producerNode!==void 0}function ce(e){let r=Object.create(X);r.computation=e;let n=()=>{if(m(r),E(r),r.value===s)throw r.error;return r.value};return n[h]=r,n}var l=Symbol("UNSET"),a=Symbol("COMPUTING"),s=Symbol("ERRORED"),X=d(f({},C),{value:l,dirty:!0,error:null,equal:S,kind:"computed",producerMustRecompute(e){return e.value===l||e.value===a},producerRecomputeValue(e){if(e.value===a)throw new Error("Detected cycle in computations.");let r=e.value;e.value=a;let n=T(e),u,o=!1;try{u=e.computation(),w(null),o=r!==l&&r!==s&&u!==s&&e.equal(r,u)}catch(c){u=s,e.error=c}finally{R(e,n)}if(o){e.value=r;return}e.value=u,e.version++}});function Y(){throw new Error}var b=Y;function U(){b()}function se(e){b=e}var g=null;function le(e){let r=Object.create(ee);r.value=e;let n=()=>(E(r),r.value);return n[h]=r,n}function ae(e){let r=g;return g=e,r}function G(e,r){L()||U(),e.equal(e.value,r)||(e.value=r,re(e))}function Z(e,r){L()||U(),G(e,r(e.value))}function fe(){g?.()}var ee=d(f({},C),{equal:S,value:void 0,kind:"signal"});function re(e){e.version++,J(),D(e),g?.()}function de(e,r,n){let u=Object.create(ue);u.source=e,u.computation=r,n!=null&&(u.equal=n);let c=()=>{if(m(u),E(u),u.value===s)throw u.error;return u.value};return c[h]=u,c}function pe(e,r){m(e),G(e,r),N(e)}function ve(e,r){m(e),Z(e,r),N(e)}var ue=d(f({},C),{value:l,dirty:!0,error:null,equal:S,producerMustRecompute(e){return e.value===l||e.value===a},producerRecomputeValue(e){if(e.value===a)throw new Error("Detected cycle in computations.");let r=e.value;e.value=a;let n=T(e),u;try{let o=e.source(),c=r===l||r===s?void 0:{source:e.sourceValue,value:r};u=e.computation(o,c),e.sourceValue=o}catch(o){u=s,e.error=o}finally{R(e,n)}if(r!==l&&u!==s&&e.equal(r,u)){e.value=r;return}e.value=u,e.version++}});function he(e,r,n){let u=Object.create(ne);n&&(u.consumerAllowSignalWrites=!0),u.fn=e,u.schedule=r;let o=i=>{u.cleanupFn=i};function c(i){return i.fn===null&&i.schedule===null}function q(i){c(i)||(Q(i),i.cleanupFn(),i.fn=null,i.schedule=null,i.cleanupFn=y)}let _=()=>{if(u.fn===null)return;if(z())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(u.dirty=!1,u.hasRun&&!F(u))return;u.hasRun=!0;let i=T(u);try{u.cleanupFn(),u.cleanupFn=y,u.fn(o)}finally{R(u,i)}};return u.ref={notify:()=>P(u),run:_,cleanup:()=>u.cleanupFn(),destroy:()=>q(u),[h]:u},u.ref}var y=()=>{},ne=d(f({},C),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule!==null&&e.schedule(e.ref)},hasRun:!1,cleanupFn:y});function me(e){}export{C as REACTIVE_NODE,h as SIGNAL,ee as SIGNAL_NODE,R as consumerAfterComputation,T as consumerBeforeComputation,Q as consumerDestroy,P as consumerMarkDirty,F as consumerPollProducersForChange,ce as createComputed,de as createLinkedSignal,le as createSignal,he as createWatch,S as defaultEquals,oe as getActiveConsumer,z as isInNotificationPhase,ie as isReactive,pe as linkedSignalSetFn,ve as linkedSignalUpdateFn,E as producerAccessed,J as producerIncrementEpoch,N as producerMarkClean,D as producerNotifyConsumers,m as producerUpdateValueVersion,L as producerUpdatesAllowed,fe as runPostSignalSetFn,w as setActiveConsumer,me as setAlternateWeakRefImpl,ae as setPostSignalSetFn,se as setThrowInvalidWriteToSignalError,G as signalSetFn,Z as signalUpdateFn};
/*! Bundled license information:

@angular/core/fesm2022/primitives/signals.mjs:
  (**
   * @license Angular v19.1.7
   * (c) 2010-2024 Google LLC. https://angular.io/
   * License: MIT
   *)
*/
