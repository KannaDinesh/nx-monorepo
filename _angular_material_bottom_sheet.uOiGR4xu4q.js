var T=Object.defineProperty,O=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var b=(e,a,t)=>a in e?T(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,c=(e,a)=>{for(var t in a||={})A.call(a,t)&&b(e,t,a[t]);if(u)for(var t of u(a))I.call(a,t)&&b(e,t,a[t]);return e},_=(e,a)=>O(e,E(a));import{CdkDialogContainer as L,Dialog as F,DialogModule as H}from"@angular/cdk/dialog";import{CdkPortalOutlet as N,PortalModule as j}from"@angular/cdk/portal";import*as n from"@angular/core";import{EventEmitter as P,inject as l,InjectionToken as R}from"@angular/core";import{AnimationDurations as g,AnimationCurves as v,MatCommonModule as S}from"@angular/material/core";import{BreakpointObserver as V,Breakpoints as r}from"@angular/cdk/layout";import{trigger as z,state as y,style as x,transition as C,group as k,animate as w,query as B,animateChild as M}from"@angular/animations";import{Overlay as X}from"@angular/cdk/overlay";import{ESCAPE as $,hasModifierKey as U}from"@angular/cdk/keycodes";import{Subject as Y,merge as q}from"rxjs";import{filter as h,take as p}from"rxjs/operators";function G(e,a){}var K={bottomSheetState:z("state",[y("void, hidden",x({transform:"translateY(100%)"})),y("visible",x({transform:"translateY(0%)"})),C("visible => void, visible => hidden",k([w(`${g.COMPLEX} ${v.ACCELERATION_CURVE}`),B("@*",M(),{optional:!0})])),C("void => visible",k([w(`${g.EXITING} ${v.DECELERATION_CURVE}`),B("@*",M(),{optional:!0})]))])},W=(()=>{class e extends L{_breakpointSubscription;_animationState="void";_animationStateChanged=new P;_destroyed;constructor(){super();let t=l(V);this._breakpointSubscription=t.observe([r.Medium,r.Large,r.XLarge]).subscribe(()=>{let i=this._elementRef.nativeElement.classList;i.toggle("mat-bottom-sheet-container-medium",t.isMatched(r.Medium)),i.toggle("mat-bottom-sheet-container-large",t.isMatched(r.Large)),i.toggle("mat-bottom-sheet-container-xlarge",t.isMatched(r.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){t.toState==="visible"&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_captureInitialFocus(){}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=n.\u0275\u0275defineComponent({type:e,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(i,o){i&1&&n.\u0275\u0275syntheticHostListener("@state.start",function(m){return o._onAnimationStart(m)})("@state.done",function(m){return o._onAnimationDone(m)}),i&2&&(n.\u0275\u0275syntheticHostProperty("@state",o._animationState),n.\u0275\u0275attribute("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-label",o._config.ariaLabel))},features:[n.\u0275\u0275InheritDefinitionFeature],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,o){i&1&&n.\u0275\u0275template(0,G,0,0,"ng-template",0)},dependencies:[N],styles:[".mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color, var(--mat-sys-surface-container-low));color:var(--mat-bottom-sheet-container-text-color, var(--mat-sys-on-surface));font-family:var(--mat-bottom-sheet-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-bottom-sheet-container-text-size, var(--mat-sys-body-large-size));line-height:var(--mat-bottom-sheet-container-text-line-height, var(--mat-sys-body-large-line-height));font-weight:var(--mat-bottom-sheet-container-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-bottom-sheet-container-text-tracking, var(--mat-sys-body-large-tracking))}@media(forced-colors: active){.mat-bottom-sheet-container{outline:1px solid}}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape, 28px);border-top-right-radius:var(--mat-bottom-sheet-container-shape, 28px)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[K.bottomSheetState]}})}return e})(),J=new R("MatBottomSheetData"),f=class{viewContainerRef;panelClass;direction;data=null;hasBackdrop=!0;backdropClass;disableClose=!1;ariaLabel=null;ariaModal=!1;closeOnNavigation=!0;autoFocus="dialog";restoreFocus=!0;scrollStrategy;height="";minHeight;maxHeight},d=class{_ref;get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}containerInstance;disableClose;_afterOpened=new Y;_result;_closeFallbackTimeout;constructor(a,t,i){this._ref=a,this.containerInstance=i,this.disableClose=t.disableClose,i._animationStateChanged.pipe(h(o=>o.phaseName==="done"&&o.toState==="visible"),p(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(h(o=>o.phaseName==="done"&&o.toState==="hidden"),p(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),a.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),q(this.backdropClick(),this.keydownEvents().pipe(h(o=>o.keyCode===$))).subscribe(o=>{!this.disableClose&&(o.type!=="keydown"||!U(o))&&(o.preventDefault(),this.dismiss())})}dismiss(a){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(h(t=>t.phaseName==="start"),p(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},t.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=a,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}},Q=new R("mat-bottom-sheet-default-options"),Z=(()=>{class e{_overlay=l(X);_parentBottomSheet=l(e,{optional:!0,skipSelf:!0});_defaultOptions=l(Q,{optional:!0});_bottomSheetRefAtThisLevel=null;_dialog=l(F);get _openedBottomSheetRef(){let t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}constructor(){}open(t,i){let o=c(c({},this._defaultOptions||new f),i),s;return this._dialog.open(t,_(c({},o),{disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:W,scrollStrategy:o.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:s}),providers:(m,tt,D)=>(s=new d(m,o,D),[{provide:d,useValue:s},{provide:J,useValue:o.data}])})),s.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===s&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>s.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):s.containerInstance.enter(),this._openedBottomSheetRef=s,s}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=n.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_t=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=n.\u0275\u0275defineNgModule({type:e});static \u0275inj=n.\u0275\u0275defineInjector({providers:[Z],imports:[H,S,j,S]})}return e})();export{J as MAT_BOTTOM_SHEET_DATA,Q as MAT_BOTTOM_SHEET_DEFAULT_OPTIONS,Z as MatBottomSheet,f as MatBottomSheetConfig,W as MatBottomSheetContainer,_t as MatBottomSheetModule,d as MatBottomSheetRef,K as matBottomSheetAnimations};
